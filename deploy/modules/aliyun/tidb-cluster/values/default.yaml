# Basic customization for tidb-cluster chart that suits Alibaba Cloud environment
timezone: UTC

pd:
  logLevel: info
  resources:
    requests:
      storage: 20Gi
  storageClassName: alicloud-disk
tikv:
  logLevel: info
  storageClassName: local-volume
  syncLog: true
tidb:
  service:
    type: LoadBalancer
    externalTrafficPolicy: Local
    exposeStatus: true
    annotations:
      service.beta.kubernetes.io/alicloud-loadbalancer-address-type: intranet
      service.beta.kubernetes.io/alicloud-loadbalancer-slb-network-type: vpc
  config: |
    [log]
    level = "info"
    [performance]
    tcp-keep-alive = true
  podSecurityContext:
    sysctls:
    - name: net.ipv4.tcp_keepalive_time
      value: "300"
    - name: net.ipv4.tcp_keepalive_intvl
      value: "75"

monitor:
  storage: 100Gi
  storageClassName: alicloud-disk-available
  persistent: true
  grafana:
    config:
      GF_AUTH_ANONYMOUS_ENABLED: "true"
    service:
      type: LoadBalancer
      annotations:
        service.beta.kubernetes.io/alicloud-loadbalancer-address-type: internet
