apiVersion: pingcap.com/v1alpha1
kind: TidbCluster
metadata:
  annotations:
    pingcap.com/pd.cluster-pd.sha: 3fff04ec
    pingcap.com/tidb.cluster-tidb.sha: 6444ca57
    pingcap.com/tikv.cluster-tikv.sha: ef2e15d9
  creationTimestamp: "2020-03-19T10:38:55Z"
  generation: 1
  labels:
    app.kubernetes.io/component: tidb-cluster
    app.kubernetes.io/instance: cluster
    app.kubernetes.io/managed-by: Helm
    app.kubernetes.io/name: tidb-cluster
    helm.sh/chart: tidb-cluster-dev
  name: cluster
  namespace: cluster
  resourceVersion: "104342"
  selfLink: /apis/pingcap.com/v1alpha1/namespaces/cluster/tidbclusters/cluster
  uid: d565b650-69cd-11ea-9a0f-0242ac110004
spec:
  enablePVReclaim: false
  pd:
    affinity: {}
    baseImage: ""
    hostNetwork: false
    image: 385595570414.dkr.ecr.us-west-2.amazonaws.com/dbaas/jony8/pd:v4.0.0-beta.1
    imagePullPolicy: IfNotPresent
    replicas: 1
    requests:
      storage: 1Gi
    storageClassName: local-storage
  pvReclaimPolicy: Retain
  schedulerName: tidb-scheduler
  services:
  - name: pd
    type: ClusterIP
  tidb:
    affinity: {}
    baseImage: ""
    binlogEnabled: false
    hostNetwork: false
    image: 385595570414.dkr.ecr.us-west-2.amazonaws.com/dbaas/jony8/tidb:v4.0.0-beta.1
    imagePullPolicy: IfNotPresent
    maxFailoverCount: 3
    replicas: 1
    separateSlowLog: true
    slowLogTailer:
      image: busybox:1.26.2
      imagePullPolicy: IfNotPresent
      limits:
        cpu: 100m
        memory: 50Mi
      requests:
        cpu: 20m
        memory: 5Mi
    tlsClient:
      enabled: true
  tikv:
    affinity: {}
    baseImage: ""
    hostNetwork: false
    image: 385595570414.dkr.ecr.us-west-2.amazonaws.com/dbaas/jony8/tikv:v4.0.0-beta.1
    imagePullPolicy: IfNotPresent
    maxFailoverCount: 3
    replicas: 1
    requests:
      storage: 10Gi
    storageClassName: local-storage
  timezone: UTC
  tlsCluster:
    enabled: true
  version: ""
