apiVersion: pingcap.com/v1alpha1
kind: TidbMonitor
metadata:
  name: basic
spec:
  clusters:
  - name: basic
  prometheus:
    baseImage: prom/prometheus
    version: v2.33.4
    remoteWrite:
      - url: "http://test.prometheus.com:80/api/v1/write"
        basicAuth:
          username:
            name: basic-auth
            key: username
          password:
            name: basic-auth
            key: password
        queueConfig:
          maxSamplesPerSend: 100
          maxShards: 100
        metadataConfig:
          sendInterval: 10s
  grafana:
    baseImage: grafana/grafana
    version: 7.5.11
  initializer:
    baseImage: pingcap/tidb-monitor-initializer
    version: v5.4.0
  reloader:
    baseImage: pingcap/tidb-monitor-reloader
    version: v1.0.1
  prometheusReloader:
    baseImage: quay.io/prometheus-operator/prometheus-config-reloader
    version: v0.49.0
  imagePullPolicy: IfNotPresent
